CREATE OR REPLACE TRIGGER TR_GUARDAR_STOCK BEFORE UPDATE ON IMPL_SEGURIDAD
FOR EACH ROW
DECLARE
	id SMALLINT;
	stock SMALLINT;
BEGIN
id:= :new.ID_IMPLEMENTO;
stock:= :new.CANTIDAD;
INSERT INTO STOCK_IMPL_SEGURIDAD(ID_IMPL, FECHA,CANTIDAD) 
VALUES(id,
       SYSDATE,
       stock);
END;

CREATE TABLE STOCK_IMPL_SEGURIDAD(ID_IMPL SMALLINT not null,
 FECHA DATE not null,CANTIDAD SMALLINT not null);
       